---
layout: post
title:  "nodejs文件操作系统"
tags:
categories:
---
## nodejs文件(fs)操作系统



```
   var buffer = new Buffer(JSON.stringify(getInfo.infosArr));
        var json = JSON.stringify(buffer);
        var copy = new Buffer(JSON.parse(json));
        var str = buffer.toString("utf-8");
        console.log(copy, buffer, str, '9998')
        fs.writeFile('input.js', json, function (err) {
            if (err) {
                return console.error(err);
            }
            console.log("数据写入成功！");
            console.log("--------我是分割线-------------")
            console.log("读取写入的数据！");
            fs.readFile('input.js', function (err, data) {
                if (err) {
                    return console.error(err);
                }
                console.log("异步读取文件数据: " + data.toString());
            });
        });
```
#### 2.邮箱验证
```
$("#email").blur(function () {
            if (email == "") {
//                    alert("邮箱不可以为空")
            } else {
                var mail = $("#email").val();
                var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                if (filter.test(mail)) return true;
                else {
                    alert('您的电子邮件格式不正确');
                    return false;
                }
            }


        });
```

##### 3.input框验证不能为空以及ajax发送;
```
$("#button").click(function () {
            if (name == "") {
                alert("用户姓名不可以为空")
            } else if (phone == "") {
                alert("手机号不可以为空")
            }
            else if (email == "") {
                alert("邮箱不可以为空")
            }
            else if (city == "") {
                alert("地址不可以为空")
            } else {
                $.post("http://b1.qu48.cn/app/index.php?i=2&c=entry&m=ewei_shopv2&do=mobile&r=sns.xiguan.baokecheng", {
                        sex: r,
                        realname: name,
                        mobile: phone,
                        email: email,
                        address: city,
                        idkc: idkc,
                        title: title
                    },
                    function (data) {
                        alert('报名成功');
                        location.href = 'http://b1.qu48.cn/app/index.php?i=2&c=entry&m=ewei_shopv2&do=mobile&r=sns.xiguan.mykecheng'
                    }), 'json';
            }


        })
```
#### 4.解决第一个布局加类名方法(已封装)
```
$(document).ready(function(){

        function firstActive(objs)
        {
            for(var i = 0; i < objs.length; i++)
            {
                objs[i].first().addClass("active");
            }
        }

        function mouseIn(obj)
        {
            obj.siblings().removeClass("active");
            obj.addClass('active');
        }

        function mouseOut(obj)
        {
            obj.addClass('active');
        }

        var objs =[$(".habit_title-box li"), $(".habit_new .habit_new_left .new_list li a"),$(".habit_title-t_l li"), $(".index .conter-h li")];
        firstActive(objs);

    //直接替换类名

    });
```
未完结.....
